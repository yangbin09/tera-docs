
n8n 是一款强大的开源工作流自动化工具。如果你已经在本地安装了 Node.js 环境，可以通过多种方式来运行它。本文将详细介绍三种最常用的方法，并**确保每种方法都使用淘宝镜像进行加速**。

1. **`npx`**：一种临时运行的方式，无需“安装”，非常适合快速测试。
    
2. **`npm`**：使用 Node.js 默认的包管理器进行全局“安装”。
    
3. **`pnpm`**：使用更高效的包管理器进行全局“安装”，速度更快且节省磁盘空间。
    

## 唯一的前提：安装 Node.js 和配置镜像

无论你选择哪种方法，都**必须**先完成以下步骤：

1. **下载 Node.js**：
    
    - 访问 [Node.js 官方网站](https://nodejs.org/)，下载 "LTS" (长期支持) 版本的 Windows 安装程序 (`.msi` 文件)。
        
2. **安装 Node.js**：
    
    - 双击 `.msi` 文件，一路点击 "Next" 完成安装。
        
3. **打开管理员终端**：
    
    - 关闭所有终端窗口，**以管理员身份重新打开一个新的 PowerShell 窗口**。（后续步骤请在此窗口操作）
        
4. **验证安装**：
    
    - 输入 `node -v` 和 `npm -v`，确保能看到版本号。
        
5. **(关键) 配置 NPM 淘宝镜像**：
    
    - 为了极大加快后续所有包的下载和安装速度，**必须**配置淘宝镜像。**此配置对 `npm` 和 `npx` 均生效**。
        
    - 在管理员 PowerShell 窗口中执行：
        
        PowerShell
        
        ```
        npm config set registry https://registry.npmmirror.com/
        ```
        

---

## 方法一：使用 `npx` (临时运行，无需安装)

`npx` 是 Node.js 自带的包_运行_工具。它会临时下载 n8n 运行，当你关闭终端时，程序即被清除。

- **优点**：零安装、不污染全局环境、每次运行都是最新版。
    
- **缺点**：每次启动都需要重新下载，启动速度相对较慢（但用了镜像会快很多）。
    

### 镜像加速说明

`npx` 会自动使用你在 "前提" 步骤中为 `npm` 配置的淘宝镜像，因此下载包的速度会得到保障。

### 如何启动

这种方式没有“安装”步骤，"运行"命令就是“启动”命令。

在你的终端（PowerShell 或 CMD）中，直接运行：

PowerShell

```
npx n8n
```

`npx` 会从你配置的淘宝镜像源中下载 `n8n` 包并执行它。稍等片刻，你就会在终端看到 n8n 的启动日志。

---

## 方法二：使用 `npm` (全局安装)

这是最传统的全局安装方式，它会将 n8n 作为一个永久命令安装到你的系统中。

- **优点**：一次安装、永久使用、启动速度快。
    
- **缺点**：`npm` 的全局安装机制相对陈旧，可能会占用较多磁盘空间。
    

### 镜像加速说明

由于你在 "前提" 步骤中已经为 `npm` 配置了淘宝镜像，此安装命令将自动从淘宝镜像源下载，速度会非常快。

### 如何安装

在**管理员 PowerShell** 窗口中，执行以下命令：

PowerShell

```
npm install -g n8n
```

### 如何启动

安装完成后，在**任何**终端窗口中，只需输入：

PowerShell

```
n8n
```

---

## 方法三：使用 `pnpm` (高效全局安装，推荐)

`pnpm` 是一个更现代、更快速、更节省磁盘空间的包管理器。

- **优点**：安装速度极快、极大节省磁盘空间、启动快。
    
- **缺点**：需要额外安装 `pnpm` 本身。
    

### 如何安装

此方法分为三步：安装 `pnpm` -> 配置 `pnpm` (包括镜像) -> 安装 `n8n`。

1. 安装 pnpm

在管理员 PowerShell 窗口中，使用 npm（此时已配置淘宝镜像，安装很快）来全局安装 pnpm：

PowerShell

```
npm install -g pnpm
```

2. 配置 pnpm 环境 (重要！)

pnpm 需要设置自己的全局路径。运行以下命令：

PowerShell

```
pnpm setup
```

3. 重启终端 (必须！)

关闭你当前的 PowerShell 窗口，重新打开一个新的管理员 PowerShell 窗口，以使新的环境变量生效。

4. 验证 pnpm

在新打开的窗口中，输入 pnpm -v 确保安装成功。

5. (关键) 为 pnpm 设置淘宝镜像

pnpm 不会自动使用 npm 的镜像配置，你需要为它单独设置：

PowerShell

```
pnpm config set registry https://registry.npmmirror.com/
```

6. 使用 pnpm 安装 n8n

现在，使用 pnpm（它将从淘宝镜像）来全局安装 n8n：

PowerShell

```
pnpm add -g n8n
```

### 如何启动

安装完成后，在**任何**终端窗口中，输入：

PowerShell

```
n8n
```

---

## 总结：如何启动 n8n

在你成功执行了上述任一方法的命令后，你会看到终端开始打印日志。

**1. 启动命令**

- **`npx` 方式**：启动命令就是 `npx n8n`。
    
- **`npm` 或 `pnpm` 方式**：启动命令是 `n8n`。
    

**2. 防火墙**

- 如果你是第一次在 Windows 上运行，系统会弹出 **Windows Defender 防火墙**警报。
    
- **必须**勾选 "**专用网络**"，然后点击 "**允许访问**"。
    

**3. 访问 n8n**

- 当你在终端看到类似以下的日志时，代表 n8n 已经成功启动：
    
    ```
    n8n ready on 0.0.0.0, port 5678
    Editor is now available on: http://localhost:5678
    ```
    
- 打开你的浏览器（如 Chrome 或 Edge），访问日志中显示的地址： `http://localhost:5678`
    

**4. 如何停止 n8n**

- 回到你运行 n8n 的那个终端窗口。
    
- 按下 `Ctrl + C` 组合键，n8n 进程就会停止。
    

### 哪种方式最适合我？

- **只想试用一下**：使用 `npx`。
    
- **想长期在本地使用**：推荐使用 `pnpm`（最快、最省空间）。
    
- **不想折腾 pnpm**：使用 `npm` 也能很好地工作。

